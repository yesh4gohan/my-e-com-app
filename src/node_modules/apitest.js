import React, { Component } from 'react'
import {API} from "aws-amplify"
import {pushToDynamodb} from "./api"
export default class Test extends Component {
    componentDidMount(){
        let myInit = {
           response: true,
       }
       API.get("shopping-cart","/products/all",myInit)//three params resource name, endpoint, request body
       .then(res=>console.log(res))
       
    }
    create = () => {
        const load = {
            body:{
    "name": "dummy",
    "price": "1000",
    "cpu": "dummy",
    "camera": "dummy",
    "size": "dummy",
    "weight": "dummy",
    "battery": "dummy",
    "display": "dummy",
    "memory": "dummy"
            }
    };
           API.post("shopping-cart", "/products",load)//three params resource name, endpoint, request body
           .then((res)=>console.log(res))
           .catch(err=>console.log(err))
            
    }
    delete = () => {
        const request = {};
        API.del("shopping-cart","/products",request)
        .then(res=>console.log("successfully deleted"))
        .catch(err=>console.log(err))
    }
    postItems = () => {
      pushToDynamodb();
    }
  render() {
    return (
      <div>
        <button onClick = {this.create}>create product</button>
        <button onClick = {this.delete}>delete product</button>
        <button onClick = {this.postItems}>post product</button>
      </div>
    )
  }
}

